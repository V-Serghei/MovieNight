@using System.Web.Optimization
@model MovieNight.Web.Models.StatisticModel

@{
    ViewBag.Title = "Personal Promotion Statistics";
    var percentageA = (float)((Model.AnimeCount * 100) / (float) Model.AnimeTotal); 
    var percentageC = (float)((Model.CartonsCount * 100) / (float) Model.CartonTotal); 
    var percentageS = (float)((Model.SerialsCount * 100) / (float) Model.SerialTotal); 
    var percentageF = (float)((Model.FilmCount * 100) / (float) Model.FilTotal); 

    
}
@Styles.Render("~/bundles/jquery_jvectormap_1_2_2/css")

<style>
    #apex-pie-2 {
        max-width: 100%; 
        max-height: 100%;
    }
    

    #apexWH {
        width: 100%; 
        height: auto; 
    }

</style>

<div >
    <div class="content">

        <!-- Start Content-->
        <div class="container-fluid">

            <!-- start page title -->
            <div class="row">
                <div class="col-12">
                    <div class="page-title-box">
                        <div class="page-title-right">
                            <ol class="breadcrumb m-0">
                                <li class="breadcrumb-item"><a href="javascript: void(0);">Movie Night</a></li>
                                <li class="breadcrumb-item"><a href="javascript: void(0);">Personal Profile</a></li>
                                <li class="breadcrumb-item active">Personal Promotion Statistics</li>
                            </ol>
                        </div>
                        <h4 class="page-title">Personal Promotion Statistics</h4>
                    </div>
                </div>
            </div>
            <!-- end page title -->

            <div class="row">
                <div class="col-md-6 col-xl-3">
                    <div class="card-box">
                        <i class="fa fa-info-circle text-muted float-right" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="How long have you watched! And total number of category"></i>
                        <h4 class="mt-0 font-16">Anime Category</h4>
                        <h2 class="text-primary my-3 text-center">How long have you watched: <span data-plugin="counterup">@Model.AnimeCount</span></h2>
                       
                        <p class="text-muted mb-0">Number of category: @Model.AnimeTotal <span class="float-right"><i class="fa fa-caret-up text-success mr-1"></i>@percentageA %</span></p>
                    </div>
                </div>

                <div class="col-md-6 col-xl-3">
                    <div class="card-box">
                        <i class="fa fa-info-circle text-muted float-right" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="How long have you watched! And total number of category"></i>

                        <h4 class="mt-0 font-16">Film Category</h4>
                        <h2 class="text-primary my-3 text-center">How long have you watched: <span data-plugin="counterup">@Model.FilmCount</span></h2>
                        <p class="text-muted mb-0"> Number of category: @Model.FilTotal <span class="float-right"><i class="fa fa-caret-up text-success mr-1"></i>@percentageF %</span></p>

                    </div>
                    <div class="card-box">
                        <i class="fa fa-info-circle text-muted float-right" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Total number"></i>
                        <h4 class="mt-0 font-16">View current</h4>
                        <h2 class="text-primary my-3 text-center">How long have you watched: <span data-plugin="counterup">@Model.ViewingCount</span></h2>
              
                        </div>
                </div>
                <div class="col-md-6 col-xl-3">
                    <div class="card-box">
                        <i class="fa fa-info-circle text-muted float-right" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="How long have you watched! And total number of category"></i>
                        <h4 class="mt-0 font-16">Serial Category</h4>
                        <h2 class="text-primary my-3 text-center">How long have you watched!: <span data-plugin="counterup">@Model.SerialsCount</span></h2>

                        <p class="text-muted mb-0"> Number of category: @Model.SerialTotal <span class="float-right"><i class="fa fa-caret-up text-success mr-1"></i>@percentageS %</span></p>
                    </div>
                    <div class="card-box">
                        <i class="fa fa-info-circle text-muted float-right" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Total number"></i>
                        <h4 class="mt-0 font-16">In the plans</h4>
                        <h2 class="text-primary my-3 text-center">How long have you watched: <span data-plugin="counterup">@Model.BookmarkCount</span></h2>
                    </div>
                </div>

                <div class="col-md-6 col-xl-3">
                    <div class="card-box">
                        <i class="fa fa-info-circle text-muted float-right" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="How long have you watched! And total number of category"></i>
                        <h4 class="mt-0 font-16">Carton Category</h4>
                        <h2 class="text-primary my-3 text-center">How long have you watched!: <span data-plugin="counterup">@Model.CartonsCount</span></h2>

                        <p class="text-muted mb-0"> <N></N>umber of category: @Model.CartonTotal <span class="float-right"><i class="fa fa-caret-up text-success mr-1"></i>@percentageC %</span></p>
                    </div>
                    
                </div>
                
            </div>



            <div class="row">
                <div class="col-lg-12">
                    <div class="card">
                        <div class="card-body">
                           
                            <h4 class="header-title">Your latest grades</h4>

                            <div class="row mt-4 text-center">
                                <div class="col-4">
                                    <p class="text-muted font-15 mb-1 text-truncate">Your Grade Count </p>
                                    <h4><i class="fe-airplay text-danger mr-1"></i>@Model.YourGradeCount</h4>
                                </div>
                                <div class="col-4">
                                    <p class="text-muted font-15 mb-1 text-truncate">Your Most Grade</p>
                                    <h4><i class="fe-airplay text-success mr-1"></i>@Model.YourMostGrade</h4>
                                </div>
                                <div class="col-4">
                                    <p class="text-muted font-15 mb-1 text-truncate">Your Average Rating</p>
                                    <h4><i class="fe-activity text-danger mr-1"></i>@Model.YourAverageRating.ToString("F")</h4>
                                </div>
                            </div>

                            <div class="mt-3" dir="ltr">
                                <div id="apex-area" class="apex-charts"></div>
                            </div>
                        </div> <!-- end card-body-->
                    </div> <!-- end card-->
                </div> <!-- end col -->

                <div class="col-lg-12">
                    <div class="card">
                        <div class="card-body">
                           
                            <h4 class="header-title">Your genres</h4>
                            <i class="fa fa-info-circle text-muted float-right" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Top genres you prefer"></i>
                            
                            <div class="row mt-3 text-center">
                                <div class="col-5">
                                    <p class="text-muted font-15 mb-1 text-truncate">Genre Total</p>
                                    <h4><i class="fe-tag text-danger mr-1"></i>@Model.GenreTotal</h4>
                                </div>
                                <div class="col-6">
                                    <p class="text-muted font-15 mb-1 text-truncate">The genres you prefer</p>
                                    <h4><i class="fe-tag text-success mr-1"></i>@Model.YourGenrePrefer</h4>
                                </div>
                            </div>
                            <div class="mt-3" dir="ltr" id="apexWH">
                                <div id="apex-pie-2" class="apex-charts"></div>
                            </div>
                        </div>
                    </div> <!-- end card-->
                </div> <!-- end col -->
            </div>
            <!-- end row -->



            <div class="row">
                <div class="col-xl-12">
                    <div class="card">
                        <div class="card-body">
                            <div class="card-widgets">
                                <a href="javascript: void(0);" data-toggle="reload"><i class="mdi mdi-refresh"></i></a>
                                <a data-toggle="collapse" href="#cardCollpase4" role="button" aria-expanded="false" aria-controls="cardCollpase4"><i class="mdi mdi-minus"></i></a>
                                <a href="javascript: void(0);" data-toggle="remove"><i class="mdi mdi-close"></i></a>
                            </div>
                            <h4 class="header-title mb-0">Revenue By Location</h4>

                            <div id="cardCollpase4" class="collapse pt-3 show">
                                <div>
                                    <div class="card">
                                        <div class="card-body">

                                            <h4 class="header-title">Films of the country</h4>
                                            <div class="row mt-3 text-center">
                                                <div class="col-5">
                                                    <p class="text-muted font-15 mb-1 text-truncate">Country Total</p>
                                                    <h4><i class="fe-globe text-danger mr-1"></i>@Model.CountryTotal</h4>
                                                </div>
                                                <div class="col-6">
                                                    <p class="text-muted font-15 mb-1 text-truncate">The countries you watch</p>
                                                    <h4><i class="fe-globe text-success mr-1"></i>@Model.YourCountryPrefer</h4>
                                                </div>
                                            </div>
                                            <div class="mt-3" dir="ltr">
                                                <div id="apex-pie-4" class="apex-charts"></div>
                                            </div>
                                        </div>
                                    </div> <!-- end card-->
                                </div> <!-- end col -->
                            </div> <!-- collapsed end -->
                        </div> <!-- end card-body -->
                    </div> <!-- end card-->
                </div> <!-- end col -->

                <div class="col-xl-12">
                    <div class="card">
                        <div class="card-body">
                            <div class="card-widgets">
                                <a href="javascript: void(0);" data-toggle="reload"><i class="mdi mdi-refresh"></i></a>
                                <a data-toggle="collapse" href="#cardCollpase5" role="button" aria-expanded="false" aria-controls="cardCollpase5"><i class="mdi mdi-minus"></i></a>
                                <a href="javascript: void(0);" data-toggle="remove"><i class="mdi mdi-close"></i></a>
                            </div>
                            <h4 class="header-title mb-0">Last viewed</h4>

                            <div id="cardCollpase5" class="collapse pt-3 show">
                                <div class="table-responsive">
                                    <table class="table table-hover table-centered mb-0">
                                        <thead>
                                        <tr>
                                            <th>Title</th>
                                            <th>Review date</th>
                                            <th>Your grade</th>
                                            <th>Overall grade</th>
                                        </tr>
                                        </thead>

                                        <tbody>
                                        @foreach (var viewed in Model.ViewList)
                                        {
                                            
                                            <tr>
                                                <td>@viewed.Title</td>
                                                <td>@viewed.ReviewDate</td>
                                                <td>@viewed.UserValues</td>
                                                <td>@viewed.MovieNightGrade</td>
                                                
                                            </tr>
                                        }
                                        </tbody>
                                        
                                        
                                    </table>
                                </div> <!-- end table responsive-->
                            </div> <!-- collapsed end -->
                        </div> <!-- end card-body -->
                    </div> <!-- end card-->
                </div> <!-- end col -->
            </div>
            <!-- end row -->

        </div> <!-- container -->

    </div> <!-- content -->
   

</div>
